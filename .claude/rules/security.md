<!-- [.claude/rules/security.md] 민감 정보 처리, Git 보안, 코드 보안 규칙 정의 -->

# 보안 규칙

이 파일은 프로젝트 전반에 적용되는 보안 규칙을 정의합니다.

## 민감 정보 처리

### 절대 금지 사항

- 소스 코드에 API 키, 비밀번호, 토큰 하드코딩 금지
- `.env` 파일을 Git에 커밋 금지
- 로그에 민감 정보 출력 금지

### 권장 사항

- 환경 변수를 통한 시크릿 관리
- `.env.example` 파일로 필요한 환경 변수 문서화
- 시크릿 관리 도구 사용 (예: AWS Secrets Manager, HashiCorp Vault)

## 파일 접근 제한

다음 파일/디렉토리는 읽기/수정 전 사용자 확인 필요:

- `.env`, `.env.*`
- `credentials.*`, `secrets.*`
- `*.pem`, `*.key`
- `config/production.*`

## Git 보안

### 금지된 작업

- `git push --force` (main/master 브랜치)
- `git reset --hard` (확인 없이)
- 시크릿이 포함된 파일 커밋

### 권장 사항

- `.gitignore`에 민감 파일 패턴 추가
- 커밋 전 시크릿 스캔 도구 사용
- 서명된 커밋 사용 권장

## 코드 보안

### 입력 검증

- 모든 사용자 입력은 검증 필수
- SQL 쿼리 파라미터화 (SQL Injection 방지)
- HTML 출력 이스케이프 (XSS 방지)

### 의존성 관리

- 정기적인 의존성 보안 업데이트
- `npm audit` / `pip-audit` 등 보안 스캔 실행
- 알려진 취약점이 있는 패키지 사용 금지

## 에러 처리

- 프로덕션 환경에서 상세 에러 메시지 노출 금지
- 스택 트레이스 로깅 시 민감 정보 마스킹
- 적절한 에러 코드와 사용자 친화적 메시지 반환
